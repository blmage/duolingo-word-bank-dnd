!function(){"use strict";var e,t,n=(function(e,t){var n;window,n=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=72)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(66),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(70),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(57);Object.defineProperty(t,"closest",{enumerable:!0,get:function(){return a(r).default}});var o=n(55);Object.defineProperty(t,"requestNextAnimationFrame",{enumerable:!0,get:function(){return a(o).default}});var s=n(53);Object.defineProperty(t,"distance",{enumerable:!0,get:function(){return a(s).default}});var i=n(51);function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"touchCoords",{enumerable:!0,get:function(){return a(i).default}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(46);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(49),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var o=n(13);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var s=n(12);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})}));var i=n(6);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var a,l=n(39),u=(a=l)&&a.__esModule?a:{default:a};t.default=u.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);Object.defineProperty(t,"Sensor",{enumerable:!0,get:function(){return u(r).default}});var o=n(48);Object.defineProperty(t,"MouseSensor",{enumerable:!0,get:function(){return u(o).default}});var s=n(45);Object.defineProperty(t,"TouchSensor",{enumerable:!0,get:function(){return u(s).default}});var i=n(43);Object.defineProperty(t,"DragSensor",{enumerable:!0,get:function(){return u(i).default}});var a=n(41);Object.defineProperty(t,"ForceTouchSensor",{enumerable:!0,get:function(){return u(a).default}});var l=n(3);function u(e){return e&&e.__esModule?e:{default:e}}Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(20);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(25);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(29);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(32);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(35);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(68);Object.defineProperty(t,"Announcement",{enumerable:!0,get:function(){return a(r).default}}),Object.defineProperty(t,"defaultAnnouncementOptions",{enumerable:!0,get:function(){return r.defaultOptions}});var o=n(65);Object.defineProperty(t,"Focusable",{enumerable:!0,get:function(){return a(o).default}});var s=n(63);Object.defineProperty(t,"Mirror",{enumerable:!0,get:function(){return a(s).default}}),Object.defineProperty(t,"defaultMirrorOptions",{enumerable:!0,get:function(){return s.defaultOptions}});var i=n(59);function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Scrollable",{enumerable:!0,get:function(){return a(i).default}}),Object.defineProperty(t,"defaultScrollableOptions",{enumerable:!0,get:function(){return i.defaultOptions}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(69);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(71);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(0),i=(r=s)&&r.__esModule?r:{default:r};const a=Symbol("onSortableSorted"),l=Symbol("onSortableSort"),u=t.defaultOptions={duration:150,easingFunction:"ease-in-out"};class d extends i.default{constructor(e){super(e),this.options=o({},u,this.getOptions()),this.lastAnimationFrame=null,this.lastElements=[],this[a]=this[a].bind(this),this[l]=this[l].bind(this)}attach(){this.draggable.on("sortable:sort",this[l]),this.draggable.on("sortable:sorted",this[a])}detach(){this.draggable.off("sortable:sort",this[l]),this.draggable.off("sortable:sorted",this[a])}getOptions(){return this.draggable.options.sortAnimation||{}}[l]({dragEvent:e}){const{sourceContainer:t}=e,n=this.draggable.getDraggableElementsForContainer(t);this.lastElements=Array.from(n).map((e=>({domEl:e,offsetTop:e.offsetTop,offsetLeft:e.offsetLeft})))}[a]({oldIndex:e,newIndex:t}){if(e===t)return;const n=[];let r,o,s;e>t?(r=t,o=e-1,s=1):(r=e+1,o=t,s=-1);for(let e=r;e<=o;e++){const t=this.lastElements[e],r=this.lastElements[e+s];n.push({from:t,to:r})}cancelAnimationFrame(this.lastAnimationFrame),this.lastAnimationFrame=requestAnimationFrame((()=>{n.forEach((e=>function({from:e,to:t},{duration:n,easingFunction:r}){const o=e.domEl,s=e.offsetLeft-t.offsetLeft,i=e.offsetTop-t.offsetTop;o.style.pointerEvents="none",o.style.transform=`translate3d(${s}px, ${i}px, 0)`,requestAnimationFrame((()=>{o.addEventListener("transitionend",c),o.style.transition=`transform ${n}ms ${r}`,o.style.transform=""}))}(e,this.options)))}))}}function c(e){e.target.style.transition="",e.target.style.pointerEvents="",e.target.removeEventListener("transitionend",c)}t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=void 0;var r,o=n(15),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default,t.defaultOptions=o.defaultOptions},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(0),i=(r=s)&&r.__esModule?r:{default:r};const a=Symbol("onSortableSorted"),l=t.defaultOptions={duration:150,easingFunction:"ease-in-out",horizontal:!1};class u extends i.default{constructor(e){super(e),this.options=o({},l,this.getOptions()),this.lastAnimationFrame=null,this[a]=this[a].bind(this)}attach(){this.draggable.on("sortable:sorted",this[a])}detach(){this.draggable.off("sortable:sorted",this[a])}getOptions(){return this.draggable.options.swapAnimation||{}}[a]({oldIndex:e,newIndex:t,dragEvent:n}){const{source:r,over:o}=n;cancelAnimationFrame(this.lastAnimationFrame),this.lastAnimationFrame=requestAnimationFrame((()=>{e>=t?d(r,o,this.options):d(o,r,this.options)}))}}function d(e,t,{duration:n,easingFunction:r,horizontal:o}){for(const n of[e,t])n.style.pointerEvents="none";if(o){const n=e.offsetWidth;e.style.transform=`translate3d(${n}px, 0, 0)`,t.style.transform=`translate3d(-${n}px, 0, 0)`}else{const n=e.offsetHeight;e.style.transform=`translate3d(0, ${n}px, 0)`,t.style.transform=`translate3d(0, -${n}px, 0)`}requestAnimationFrame((()=>{for(const o of[e,t])o.addEventListener("transitionend",c),o.style.transition=`transform ${n}ms ${r}`,o.style.transform=""}))}function c(e){e.target.style.transition="",e.target.style.pointerEvents="",e.target.removeEventListener("transitionend",c)}t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=void 0;var r,o=n(17),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default,t.defaultOptions=o.defaultOptions},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(0),s=(r=o)&&r.__esModule?r:{default:r},i=n(7);const a=Symbol("onDragStart"),l=Symbol("onDragStop"),u=Symbol("onDragOver"),d=Symbol("onDragOut"),c=Symbol("onMirrorCreated"),h=Symbol("onMirrorDestroy");class g extends s.default{constructor(e){super(e),this.firstSource=null,this.mirror=null,this[a]=this[a].bind(this),this[l]=this[l].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this),this[c]=this[c].bind(this),this[h]=this[h].bind(this)}attach(){this.draggable.on("drag:start",this[a]).on("drag:stop",this[l]).on("drag:over",this[u]).on("drag:out",this[d]).on("droppable:over",this[u]).on("droppable:out",this[d]).on("mirror:created",this[c]).on("mirror:destroy",this[h])}detach(){this.draggable.off("drag:start",this[a]).off("drag:stop",this[l]).off("drag:over",this[u]).off("drag:out",this[d]).off("droppable:over",this[u]).off("droppable:out",this[d]).off("mirror:created",this[c]).off("mirror:destroy",this[h])}[a](e){e.canceled()||(this.firstSource=e.source)}[l](){this.firstSource=null}[u](e){if(e.canceled())return;const t=e.source||e.dragEvent.source;if(t===this.firstSource)return void(this.firstSource=null);const n=new i.SnapInEvent({dragEvent:e,snappable:e.over||e.droppable});this.draggable.trigger(n),n.canceled()||(this.mirror&&(this.mirror.style.display="none"),t.classList.remove(...this.draggable.getClassNamesFor("source:dragging")),t.classList.add(...this.draggable.getClassNamesFor("source:placed")),setTimeout((()=>{t.classList.remove(...this.draggable.getClassNamesFor("source:placed"))}),this.draggable.options.placedTimeout))}[d](e){if(e.canceled())return;const t=e.source||e.dragEvent.source,n=new i.SnapOutEvent({dragEvent:e,snappable:e.over||e.droppable});this.draggable.trigger(n),n.canceled()||(this.mirror&&(this.mirror.style.display=""),t.classList.add(...this.draggable.getClassNamesFor("source:dragging")))}[c]({mirror:e}){this.mirror=e}[h](){this.mirror=null}}t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SnapOutEvent=t.SnapInEvent=t.SnapEvent=void 0;var r,o=n(1),s=(r=o)&&r.__esModule?r:{default:r};class i extends s.default{get dragEvent(){return this.data.dragEvent}get snappable(){return this.data.snappable}}t.SnapEvent=i,i.type="snap";class a extends i{}t.SnapInEvent=a,a.type="snap:in",a.cancelable=!0;class l extends i{}t.SnapOutEvent=l,l.type="snap:out",l.cancelable=!0},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var o,s=n(19),i=(o=s)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(0),i=(r=s)&&r.__esModule?r:{default:r},a=n(2);const l=Symbol("onMirrorCreated"),u=Symbol("onMirrorDestroy"),d=Symbol("onDragOver"),c=Symbol("resize"),h=t.defaultOptions={};class g extends i.default{constructor(e){super(e),this.options=o({},h,this.getOptions()),this.lastWidth=0,this.lastHeight=0,this.mirror=null,this[l]=this[l].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this)}attach(){this.draggable.on("mirror:created",this[l]).on("drag:over",this[d]).on("drag:over:container",this[d])}detach(){this.draggable.off("mirror:created",this[l]).off("mirror:destroy",this[u]).off("drag:over",this[d]).off("drag:over:container",this[d])}getOptions(){return this.draggable.options.resizeMirror||{}}[l]({mirror:e}){this.mirror=e}[u](){this.mirror=null}[d](e){this[c](e)}[c]({overContainer:e,over:t}){requestAnimationFrame((()=>{if(!this.mirror.parentNode)return;this.mirror.parentNode!==e&&e.appendChild(this.mirror);const n=t||this.draggable.getDraggableElementsForContainer(e)[0];n&&(0,a.requestNextAnimationFrame)((()=>{const e=n.getBoundingClientRect();this.lastHeight===e.height&&this.lastWidth===e.width||(this.mirror.style.width=e.width+"px",this.mirror.style.height=e.height+"px",this.lastWidth=e.width,this.lastHeight=e.height)}))}))}}t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=void 0;var r,o=n(22),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default,t.defaultOptions=o.defaultOptions},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(0),s=(r=o)&&r.__esModule?r:{default:r},i=n(2),a=n(8);const l=Symbol("onDragMove"),u=Symbol("onDragStop"),d=Symbol("onRequestAnimationFrame");class c extends s.default{constructor(e){super(e),this.currentlyCollidingElement=null,this.lastCollidingElement=null,this.currentAnimationFrame=null,this[l]=this[l].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this)}attach(){this.draggable.on("drag:move",this[l]).on("drag:stop",this[u])}detach(){this.draggable.off("drag:move",this[l]).off("drag:stop",this[u])}getCollidables(){const e=this.draggable.options.collidables;return"string"==typeof e?Array.prototype.slice.call(document.querySelectorAll(e)):e instanceof NodeList||e instanceof Array?Array.prototype.slice.call(e):e instanceof HTMLElement?[e]:"function"==typeof e?e():[]}[l](e){const t=e.sensorEvent.target;this.currentAnimationFrame=requestAnimationFrame(this[d](t)),this.currentlyCollidingElement&&e.cancel();const n=new a.CollidableInEvent({dragEvent:e,collidingElement:this.currentlyCollidingElement}),r=new a.CollidableOutEvent({dragEvent:e,collidingElement:this.lastCollidingElement}),o=Boolean(this.currentlyCollidingElement&&this.lastCollidingElement!==this.currentlyCollidingElement),s=Boolean(!this.currentlyCollidingElement&&this.lastCollidingElement);o?(this.lastCollidingElement&&this.draggable.trigger(r),this.draggable.trigger(n)):s&&this.draggable.trigger(r),this.lastCollidingElement=this.currentlyCollidingElement}[u](e){const t=this.currentlyCollidingElement||this.lastCollidingElement,n=new a.CollidableOutEvent({dragEvent:e,collidingElement:t});t&&this.draggable.trigger(n),this.lastCollidingElement=null,this.currentlyCollidingElement=null}[d](e){return()=>{const t=this.getCollidables();this.currentlyCollidingElement=(0,i.closest)(e,(e=>t.includes(e)))}}}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CollidableOutEvent=t.CollidableInEvent=t.CollidableEvent=void 0;var r,o=n(1),s=(r=o)&&r.__esModule?r:{default:r};class i extends s.default{get dragEvent(){return this.data.dragEvent}}t.CollidableEvent=i,i.type="collidable";class a extends i{get collidingElement(){return this.data.collidingElement}}t.CollidableInEvent=a,a.type="collidable:in";class l extends i{get collidingElement(){return this.data.collidingElement}}t.CollidableOutEvent=l,l.type="collidable:out"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(8);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var o,s=n(24),i=(o=s)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(26);Object.defineProperty(t,"Collidable",{enumerable:!0,get:function(){return l(r).default}});var o=n(23);Object.defineProperty(t,"ResizeMirror",{enumerable:!0,get:function(){return l(o).default}}),Object.defineProperty(t,"defaultResizeMirrorOptions",{enumerable:!0,get:function(){return o.defaultOptions}});var s=n(21);Object.defineProperty(t,"Snappable",{enumerable:!0,get:function(){return l(s).default}});var i=n(18);Object.defineProperty(t,"SwapAnimation",{enumerable:!0,get:function(){return l(i).default}}),Object.defineProperty(t,"defaultSwapAnimationOptions",{enumerable:!0,get:function(){return i.defaultOptions}});var a=n(16);function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"SortAnimation",{enumerable:!0,get:function(){return l(a).default}}),Object.defineProperty(t,"defaultSortAnimationOptions",{enumerable:!0,get:function(){return a.defaultOptions}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(5),i=(r=s)&&r.__esModule?r:{default:r},a=n(9);const l=Symbol("onDragStart"),u=Symbol("onDragOverContainer"),d=Symbol("onDragOver"),c=Symbol("onDragStop"),h={"sortable:sorted":function({dragEvent:e}){const t=e.source.textContent.trim()||e.source.id||"sortable element";if(e.over){const n=e.over.textContent.trim()||e.over.id||"sortable element";return e.source.compareDocumentPosition(e.over)&Node.DOCUMENT_POSITION_FOLLOWING?`Placed ${t} after ${n}`:`Placed ${t} before ${n}`}return`Placed ${t} into a different container`}};class g extends i.default{constructor(e=[],t={}){super(e,o({},t,{announcements:o({},h,t.announcements||{})})),this.startIndex=null,this.startContainer=null,this[l]=this[l].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this),this[c]=this[c].bind(this),this.on("drag:start",this[l]).on("drag:over:container",this[u]).on("drag:over",this[d]).on("drag:stop",this[c])}destroy(){super.destroy(),this.off("drag:start",this[l]).off("drag:over:container",this[u]).off("drag:over",this[d]).off("drag:stop",this[c])}index(e){return this.getSortableElementsForContainer(e.parentNode).indexOf(e)}getSortableElementsForContainer(e){return[...e.querySelectorAll(this.options.draggable)].filter((t=>t!==this.originalSource&&t!==this.mirror&&t.parentNode===e))}[l](e){this.startContainer=e.source.parentNode,this.startIndex=this.index(e.source);const t=new a.SortableStartEvent({dragEvent:e,startIndex:this.startIndex,startContainer:this.startContainer});this.trigger(t),t.canceled()&&e.cancel()}[u](e){if(e.canceled())return;const{source:t,over:n,overContainer:r}=e,o=this.index(t),s=new a.SortableSortEvent({dragEvent:e,currentIndex:o,source:t,over:n});if(this.trigger(s),s.canceled())return;const i=p({source:t,over:n,overContainer:r,children:this.getSortableElementsForContainer(r)});if(!i)return;const{oldContainer:l,newContainer:u}=i,d=this.index(e.source),c=new a.SortableSortedEvent({dragEvent:e,oldIndex:o,newIndex:d,oldContainer:l,newContainer:u});this.trigger(c)}[d](e){if(e.over===e.originalSource||e.over===e.source)return;const{source:t,over:n,overContainer:r}=e,o=this.index(t),s=new a.SortableSortEvent({dragEvent:e,currentIndex:o,source:t,over:n});if(this.trigger(s),s.canceled())return;const i=p({source:t,over:n,overContainer:r,children:this.getDraggableElementsForContainer(r)});if(!i)return;const{oldContainer:l,newContainer:u}=i,d=this.index(t),c=new a.SortableSortedEvent({dragEvent:e,oldIndex:o,newIndex:d,oldContainer:l,newContainer:u});this.trigger(c)}[c](e){const t=new a.SortableStopEvent({dragEvent:e,oldIndex:this.startIndex,newIndex:this.index(e.source),oldContainer:this.startContainer,newContainer:e.source.parentNode});this.trigger(t),this.startIndex=null,this.startContainer=null}}function f(e){return Array.prototype.indexOf.call(e.parentNode.children,e)}function p({source:e,over:t,overContainer:n,children:r}){const o=!r.length,s=e.parentNode!==n,i=t&&e.parentNode===t.parentNode;return o?function(e,t){const n=e.parentNode;return t.appendChild(e),{oldContainer:n,newContainer:t}}(e,n):i?function(e,t){const n=f(e),r=f(t);return n<r?e.parentNode.insertBefore(e,t.nextElementSibling):e.parentNode.insertBefore(e,t),{oldContainer:e.parentNode,newContainer:e.parentNode}}(e,t):s?function(e,t,n){const r=e.parentNode;return t?t.parentNode.insertBefore(e,t):n.appendChild(e),{oldContainer:r,newContainer:e.parentNode}}(e,t,n):null}t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SortableStopEvent=t.SortableSortedEvent=t.SortableSortEvent=t.SortableStartEvent=t.SortableEvent=void 0;var r,o=n(1),s=(r=o)&&r.__esModule?r:{default:r};class i extends s.default{get dragEvent(){return this.data.dragEvent}}t.SortableEvent=i,i.type="sortable";class a extends i{get startIndex(){return this.data.startIndex}get startContainer(){return this.data.startContainer}}t.SortableStartEvent=a,a.type="sortable:start",a.cancelable=!0;class l extends i{get currentIndex(){return this.data.currentIndex}get over(){return this.data.over}get overContainer(){return this.data.dragEvent.overContainer}}t.SortableSortEvent=l,l.type="sortable:sort",l.cancelable=!0;class u extends i{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}t.SortableSortedEvent=u,u.type="sortable:sorted";class d extends i{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}t.SortableStopEvent=d,d.type="sortable:stop"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(9);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var o,s=n(28),i=(o=s)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(5),i=(r=s)&&r.__esModule?r:{default:r},a=n(10);const l=Symbol("onDragStart"),u=Symbol("onDragOver"),d=Symbol("onDragStop"),c={"swappabled:swapped":function({dragEvent:e,swappedElement:t}){return`Swapped ${e.source.textContent.trim()||e.source.id||"swappable element"} with ${t.textContent.trim()||t.id||"swappable element"}`}};class h extends i.default{constructor(e=[],t={}){super(e,o({},t,{announcements:o({},c,t.announcements||{})})),this.lastOver=null,this[l]=this[l].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this),this.on("drag:start",this[l]).on("drag:over",this[u]).on("drag:stop",this[d])}destroy(){super.destroy(),this.off("drag:start",this._onDragStart).off("drag:over",this._onDragOver).off("drag:stop",this._onDragStop)}[l](e){const t=new a.SwappableStartEvent({dragEvent:e});this.trigger(t),t.canceled()&&e.cancel()}[u](e){if(e.over===e.originalSource||e.over===e.source||e.canceled())return;const t=new a.SwappableSwapEvent({dragEvent:e,over:e.over,overContainer:e.overContainer});if(this.trigger(t),t.canceled())return;this.lastOver&&this.lastOver!==e.over&&g(this.lastOver,e.source),this.lastOver===e.over?this.lastOver=null:this.lastOver=e.over,g(e.source,e.over);const n=new a.SwappableSwappedEvent({dragEvent:e,swappedElement:e.over});this.trigger(n)}[d](e){const t=new a.SwappableStopEvent({dragEvent:e});this.trigger(t),this.lastOver=null}}function g(e,t){const n=t.parentNode,r=e.parentNode;!function(e){const t=document.createElement("div");e(t),t.parentNode.removeChild(t)}((o=>{r.insertBefore(o,e),n.insertBefore(e,t),r.insertBefore(t,o)}))}t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SwappableStopEvent=t.SwappableSwappedEvent=t.SwappableSwapEvent=t.SwappableStartEvent=t.SwappableEvent=void 0;var r,o=n(1),s=(r=o)&&r.__esModule?r:{default:r};class i extends s.default{get dragEvent(){return this.data.dragEvent}}t.SwappableEvent=i,i.type="swappable";class a extends i{}t.SwappableStartEvent=a,a.type="swappable:start",a.cancelable=!0;class l extends i{get over(){return this.data.over}get overContainer(){return this.data.overContainer}}t.SwappableSwapEvent=l,l.type="swappable:swap",l.cancelable=!0;class u extends i{get swappedElement(){return this.data.swappedElement}}t.SwappableSwappedEvent=u,u.type="swappable:swapped";class d extends i{}t.SwappableStopEvent=d,d.type="swappable:stop"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var o,s=n(31),i=(o=s)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(2),i=n(5),a=(r=i)&&r.__esModule?r:{default:r},l=n(11);const u=Symbol("onDragStart"),d=Symbol("onDragMove"),c=Symbol("onDragStop"),h=Symbol("dropInDropZone"),g=Symbol("returnToOriginalDropzone"),f=Symbol("closestDropzone"),p=Symbol("getDropzones"),v={"droppable:dropped":function({dragEvent:e,dropzone:t}){return`Dropped ${e.source.textContent.trim()||e.source.id||"draggable element"} into ${t.textContent.trim()||t.id||"droppable element"}`},"droppable:returned":function({dragEvent:e,dropzone:t}){return`Returned ${e.source.textContent.trim()||e.source.id||"draggable element"} from ${t.textContent.trim()||t.id||"droppable element"}`}},m={"droppable:active":"draggable-dropzone--active","droppable:occupied":"draggable-dropzone--occupied"},b={dropzone:".draggable-droppable"};class y extends a.default{constructor(e=[],t={}){super(e,o({},b,t,{classes:o({},m,t.classes||{}),announcements:o({},v,t.announcements||{})})),this.dropzones=null,this.lastDropzone=null,this.initialDropzone=null,this[u]=this[u].bind(this),this[d]=this[d].bind(this),this[c]=this[c].bind(this),this.on("drag:start",this[u]).on("drag:move",this[d]).on("drag:stop",this[c])}destroy(){super.destroy(),this.off("drag:start",this[u]).off("drag:move",this[d]).off("drag:stop",this[c])}[u](e){if(e.canceled())return;this.dropzones=[...this[p]()];const t=(0,s.closest)(e.sensorEvent.target,this.options.dropzone);if(!t)return void e.cancel();const n=new l.DroppableStartEvent({dragEvent:e,dropzone:t});if(this.trigger(n),n.canceled())e.cancel();else{this.initialDropzone=t;for(const e of this.dropzones)e.classList.contains(this.getClassNameFor("droppable:occupied"))||e.classList.add(...this.getClassNamesFor("droppable:active"))}}[d](e){if(e.canceled())return;const t=this[f](e.sensorEvent.target);t&&!t.classList.contains(this.getClassNameFor("droppable:occupied"))&&this[h](e,t)?this.lastDropzone=t:t&&t!==this.initialDropzone||!this.lastDropzone||(this[g](e),this.lastDropzone=null)}[c](e){const t=new l.DroppableStopEvent({dragEvent:e,dropzone:this.lastDropzone||this.initialDropzone});this.trigger(t);const n=this.getClassNamesFor("droppable:occupied");for(const e of this.dropzones)e.classList.remove(...this.getClassNamesFor("droppable:active"));this.lastDropzone&&this.lastDropzone!==this.initialDropzone&&this.initialDropzone.classList.remove(...n),this.dropzones=null,this.lastDropzone=null,this.initialDropzone=null}[h](e,t){const n=new l.DroppableDroppedEvent({dragEvent:e,dropzone:t});if(this.trigger(n),n.canceled())return!1;const r=this.getClassNamesFor("droppable:occupied");return this.lastDropzone&&this.lastDropzone.classList.remove(...r),t.appendChild(e.source),t.classList.add(...r),!0}[g](e){const t=new l.DroppableReturnedEvent({dragEvent:e,dropzone:this.lastDropzone});this.trigger(t),t.canceled()||(this.initialDropzone.appendChild(e.source),this.lastDropzone.classList.remove(...this.getClassNamesFor("droppable:occupied")))}[f](e){return this.dropzones?(0,s.closest)(e,this.dropzones):null}[p](){const e=this.options.dropzone;return"string"==typeof e?document.querySelectorAll(e):e instanceof NodeList||e instanceof Array?e:"function"==typeof e?e():[]}}t.default=y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DroppableStopEvent=t.DroppableReturnedEvent=t.DroppableDroppedEvent=t.DroppableStartEvent=t.DroppableEvent=void 0;var r,o=n(1),s=(r=o)&&r.__esModule?r:{default:r};class i extends s.default{get dragEvent(){return this.data.dragEvent}}t.DroppableEvent=i,i.type="droppable";class a extends i{get dropzone(){return this.data.dropzone}}t.DroppableStartEvent=a,a.type="droppable:start",a.cancelable=!0;class l extends i{get dropzone(){return this.data.dropzone}}t.DroppableDroppedEvent=l,l.type="droppable:dropped",l.cancelable=!0;class u extends i{get dropzone(){return this.data.dropzone}}t.DroppableReturnedEvent=u,u.type="droppable:returned",u.cancelable=!0;class d extends i{get dropzone(){return this.data.dropzone}}t.DroppableStopEvent=d,d.type="droppable:stop",d.cancelable=!0},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var o,s=n(34),i=(o=s)&&o.__esModule?o:{default:o};t.default=i.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.callbacks={}}on(e,...t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(...t),this}off(e,t){if(!this.callbacks[e])return null;const n=this.callbacks[e].slice(0);for(let r=0;r<n.length;r++)t===n[r]&&this.callbacks[e].splice(r,1);return this}trigger(e){if(!this.callbacks[e.type])return null;const t=[...this.callbacks[e.type]],n=[];for(let r=t.length-1;r>=0;r--){const o=t[r];try{o(e)}catch(e){n.push(e)}}return n.length&&console.error(`Draggable caught errors while triggering '${e.type}'`,n),this}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(37),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(2),i=n(12),a=n(38),l=(r=a)&&r.__esModule?r:{default:r},u=n(6),d=n(13),c=n(14);const h=Symbol("onDragStart"),g=Symbol("onDragMove"),f=Symbol("onDragStop"),p=Symbol("onDragPressure"),v={"drag:start":e=>"Picked up "+(e.source.textContent.trim()||e.source.id||"draggable element"),"drag:stop":e=>"Released "+(e.source.textContent.trim()||e.source.id||"draggable element")},m={"container:dragging":"draggable-container--is-dragging","source:dragging":"draggable-source--is-dragging","source:placed":"draggable-source--placed","container:placed":"draggable-container--placed","body:dragging":"draggable--is-dragging","draggable:over":"draggable--over","container:over":"draggable-container--over","source:original":"draggable--original",mirror:"draggable-mirror"},b=t.defaultOptions={draggable:".draggable-source",handle:null,delay:{},distance:0,placedTimeout:800,plugins:[],sensors:[],exclude:{plugins:[],sensors:[]}};class y{constructor(e=[document.body],t={}){if(e instanceof NodeList||e instanceof Array)this.containers=[...e];else{if(!(e instanceof HTMLElement))throw new Error("Draggable containers are expected to be of type `NodeList`, `HTMLElement[]` or `HTMLElement`");this.containers=[e]}this.options=o({},b,t,{classes:o({},m,t.classes||{}),announcements:o({},v,t.announcements||{}),exclude:{plugins:t.exclude&&t.exclude.plugins||[],sensors:t.exclude&&t.exclude.sensors||[]}}),this.emitter=new l.default,this.dragging=!1,this.plugins=[],this.sensors=[],this[h]=this[h].bind(this),this[g]=this[g].bind(this),this[f]=this[f].bind(this),this[p]=this[p].bind(this),document.addEventListener("drag:start",this[h],!0),document.addEventListener("drag:move",this[g],!0),document.addEventListener("drag:stop",this[f],!0),document.addEventListener("drag:pressure",this[p],!0);const n=Object.values(y.Plugins).filter((e=>!this.options.exclude.plugins.includes(e))),r=Object.values(y.Sensors).filter((e=>!this.options.exclude.sensors.includes(e)));this.addPlugin(...n,...this.options.plugins),this.addSensor(...r,...this.options.sensors);const s=new d.DraggableInitializedEvent({draggable:this});this.on("mirror:created",(({mirror:e})=>this.mirror=e)),this.on("mirror:destroy",(()=>this.mirror=null)),this.trigger(s)}destroy(){document.removeEventListener("drag:start",this[h],!0),document.removeEventListener("drag:move",this[g],!0),document.removeEventListener("drag:stop",this[f],!0),document.removeEventListener("drag:pressure",this[p],!0);const e=new d.DraggableDestroyEvent({draggable:this});this.trigger(e),this.removePlugin(...this.plugins.map((e=>e.constructor))),this.removeSensor(...this.sensors.map((e=>e.constructor)))}addPlugin(...e){const t=e.map((e=>new e(this)));return t.forEach((e=>e.attach())),this.plugins=[...this.plugins,...t],this}removePlugin(...e){return this.plugins.filter((t=>e.includes(t.constructor))).forEach((e=>e.detach())),this.plugins=this.plugins.filter((t=>!e.includes(t.constructor))),this}addSensor(...e){const t=e.map((e=>new e(this.containers,this.options)));return t.forEach((e=>e.attach())),this.sensors=[...this.sensors,...t],this}removeSensor(...e){return this.sensors.filter((t=>e.includes(t.constructor))).forEach((e=>e.detach())),this.sensors=this.sensors.filter((t=>!e.includes(t.constructor))),this}addContainer(...e){return this.containers=[...this.containers,...e],this.sensors.forEach((t=>t.addContainer(...e))),this}removeContainer(...e){return this.containers=this.containers.filter((t=>!e.includes(t))),this.sensors.forEach((t=>t.removeContainer(...e))),this}on(e,...t){return this.emitter.on(e,...t),this}off(e,t){return this.emitter.off(e,t),this}trigger(e){return this.emitter.trigger(e),this}getClassNameFor(e){return this.getClassNamesFor(e)[0]}getClassNamesFor(e){const t=this.options.classes[e];return t instanceof Array?t:"string"==typeof t||t instanceof String?[t]:[]}isDragging(){return Boolean(this.dragging)}getDraggableElements(){return this.containers.reduce(((e,t)=>[...e,...this.getDraggableElementsForContainer(t)]),[])}getDraggableElementsForContainer(e){return[...e.querySelectorAll(this.options.draggable)].filter((e=>e!==this.originalSource&&e!==this.mirror))}[h](e){const t=E(e),{target:n,container:r}=t;if(!this.containers.includes(r))return;if(this.options.handle&&n&&!(0,s.closest)(n,this.options.handle))return void t.cancel();if(this.originalSource=(0,s.closest)(n,this.options.draggable),this.sourceContainer=r,!this.originalSource)return void t.cancel();this.lastPlacedSource&&this.lastPlacedContainer&&(clearTimeout(this.placedTimeoutID),this.lastPlacedSource.classList.remove(...this.getClassNamesFor("source:placed")),this.lastPlacedContainer.classList.remove(...this.getClassNamesFor("container:placed"))),this.source=this.originalSource.cloneNode(!0),this.originalSource.parentNode.insertBefore(this.source,this.originalSource),this.originalSource.style.display="none";const i=new c.DragStartEvent({source:this.source,originalSource:this.originalSource,sourceContainer:r,sensorEvent:t});if(this.trigger(i),this.dragging=!i.canceled(),i.canceled())return this.source.parentNode.removeChild(this.source),void(this.originalSource.style.display=null);this.originalSource.classList.add(...this.getClassNamesFor("source:original")),this.source.classList.add(...this.getClassNamesFor("source:dragging")),this.sourceContainer.classList.add(...this.getClassNamesFor("container:dragging")),document.body.classList.add(...this.getClassNamesFor("body:dragging")),_(document.body,"none"),requestAnimationFrame((()=>{const t=E(e).clone({target:this.source});this[g](o({},e,{detail:t}))}))}[g](e){if(!this.dragging)return;const t=E(e),{container:n}=t;let r=t.target;const o=new c.DragMoveEvent({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:t});this.trigger(o),o.canceled()&&t.cancel(),r=(0,s.closest)(r,this.options.draggable);const i=(0,s.closest)(t.target,this.containers),a=t.overContainer||i,l=this.currentOverContainer&&a!==this.currentOverContainer,u=this.currentOver&&r!==this.currentOver,d=a&&this.currentOverContainer!==a,h=i&&r&&this.currentOver!==r;if(u){const e=new c.DragOutEvent({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:t,over:this.currentOver,overContainer:this.currentOverContainer});this.currentOver.classList.remove(...this.getClassNamesFor("draggable:over")),this.currentOver=null,this.trigger(e)}if(l){const e=new c.DragOutContainerEvent({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:t,overContainer:this.currentOverContainer});this.currentOverContainer.classList.remove(...this.getClassNamesFor("container:over")),this.currentOverContainer=null,this.trigger(e)}if(d){a.classList.add(...this.getClassNamesFor("container:over"));const e=new c.DragOverContainerEvent({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:t,overContainer:a});this.currentOverContainer=a,this.trigger(e)}if(h){r.classList.add(...this.getClassNamesFor("draggable:over"));const e=new c.DragOverEvent({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:t,overContainer:a,over:r});this.currentOver=r,this.trigger(e)}}[f](e){if(!this.dragging)return;this.dragging=!1;const t=new c.DragStopEvent({source:this.source,originalSource:this.originalSource,sensorEvent:e.sensorEvent,sourceContainer:this.sourceContainer});this.trigger(t),this.source.parentNode.insertBefore(this.originalSource,this.source),this.source.parentNode.removeChild(this.source),this.originalSource.style.display="",this.source.classList.remove(...this.getClassNamesFor("source:dragging")),this.originalSource.classList.remove(...this.getClassNamesFor("source:original")),this.originalSource.classList.add(...this.getClassNamesFor("source:placed")),this.sourceContainer.classList.add(...this.getClassNamesFor("container:placed")),this.sourceContainer.classList.remove(...this.getClassNamesFor("container:dragging")),document.body.classList.remove(...this.getClassNamesFor("body:dragging")),_(document.body,""),this.currentOver&&this.currentOver.classList.remove(...this.getClassNamesFor("draggable:over")),this.currentOverContainer&&this.currentOverContainer.classList.remove(...this.getClassNamesFor("container:over")),this.lastPlacedSource=this.originalSource,this.lastPlacedContainer=this.sourceContainer,this.placedTimeoutID=setTimeout((()=>{this.lastPlacedSource&&this.lastPlacedSource.classList.remove(...this.getClassNamesFor("source:placed")),this.lastPlacedContainer&&this.lastPlacedContainer.classList.remove(...this.getClassNamesFor("container:placed")),this.lastPlacedSource=null,this.lastPlacedContainer=null}),this.options.placedTimeout);const n=new c.DragStoppedEvent({source:this.source,originalSource:this.originalSource,sensorEvent:e.sensorEvent,sourceContainer:this.sourceContainer});this.trigger(n),this.source=null,this.originalSource=null,this.currentOverContainer=null,this.currentOver=null,this.sourceContainer=null}[p](e){if(!this.dragging)return;const t=E(e),n=this.source||(0,s.closest)(t.originalEvent.target,this.options.draggable),r=new c.DragPressureEvent({sensorEvent:t,source:n,pressure:t.pressure});this.trigger(r)}}function E(e){return e.detail}function _(e,t){e.style.webkitUserSelect=t,e.style.mozUserSelect=t,e.style.msUserSelect=t,e.style.oUserSelect=t,e.style.userSelect=t}t.default=y,y.Plugins={Announcement:i.Announcement,Focusable:i.Focusable,Mirror:i.Mirror,Scrollable:i.Scrollable},y.Sensors={MouseSensor:u.MouseSensor,TouchSensor:u.TouchSensor}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(4),s=(r=o)&&r.__esModule?r:{default:r},i=n(3);const a=Symbol("onMouseForceWillBegin"),l=Symbol("onMouseForceDown"),u=Symbol("onMouseDown"),d=Symbol("onMouseForceChange"),c=Symbol("onMouseMove"),h=Symbol("onMouseUp"),g=Symbol("onMouseForceGlobalChange");class f extends s.default{constructor(e=[],t={}){super(e,t),this.mightDrag=!1,this[a]=this[a].bind(this),this[l]=this[l].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this),this[c]=this[c].bind(this),this[h]=this[h].bind(this)}attach(){for(const e of this.containers)e.addEventListener("webkitmouseforcewillbegin",this[a],!1),e.addEventListener("webkitmouseforcedown",this[l],!1),e.addEventListener("mousedown",this[u],!0),e.addEventListener("webkitmouseforcechanged",this[d],!1);document.addEventListener("mousemove",this[c]),document.addEventListener("mouseup",this[h])}detach(){for(const e of this.containers)e.removeEventListener("webkitmouseforcewillbegin",this[a],!1),e.removeEventListener("webkitmouseforcedown",this[l],!1),e.removeEventListener("mousedown",this[u],!0),e.removeEventListener("webkitmouseforcechanged",this[d],!1);document.removeEventListener("mousemove",this[c]),document.removeEventListener("mouseup",this[h])}[a](e){e.preventDefault(),this.mightDrag=!0}[l](e){if(this.dragging)return;const t=document.elementFromPoint(e.clientX,e.clientY),n=e.currentTarget,r=new i.DragStartSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:n,originalEvent:e});this.trigger(n,r),this.currentContainer=n,this.dragging=!r.canceled(),this.mightDrag=!1}[h](e){if(!this.dragging)return;const t=new i.DragStopSensorEvent({clientX:e.clientX,clientY:e.clientY,target:null,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,t),this.currentContainer=null,this.dragging=!1,this.mightDrag=!1}[u](e){this.mightDrag&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault())}[c](e){if(!this.dragging)return;const t=document.elementFromPoint(e.clientX,e.clientY),n=new i.DragMoveSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,n)}[d](e){if(this.dragging)return;const t=e.target,n=e.currentTarget,r=new i.DragPressureSensorEvent({pressure:e.webkitForce,clientX:e.clientX,clientY:e.clientY,target:t,container:n,originalEvent:e});this.trigger(n,r)}[g](e){if(!this.dragging)return;const t=e.target,n=new i.DragPressureSensorEvent({pressure:e.webkitForce,clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,n)}}t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(40),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(2),s=n(4),i=(r=s)&&r.__esModule?r:{default:r},a=n(3);const l=Symbol("onMouseDown"),u=Symbol("onMouseUp"),d=Symbol("onDragStart"),c=Symbol("onDragOver"),h=Symbol("onDragEnd"),g=Symbol("onDrop"),f=Symbol("reset");class p extends i.default{constructor(e=[],t={}){super(e,t),this.mouseDownTimeout=null,this.draggableElement=null,this.nativeDraggableElement=null,this[l]=this[l].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this),this[c]=this[c].bind(this),this[h]=this[h].bind(this),this[g]=this[g].bind(this)}attach(){document.addEventListener("mousedown",this[l],!0)}detach(){document.removeEventListener("mousedown",this[l],!0)}[d](e){e.dataTransfer.setData("text",""),e.dataTransfer.effectAllowed=this.options.type;const t=document.elementFromPoint(e.clientX,e.clientY);if(this.currentContainer=(0,o.closest)(e.target,this.containers),!this.currentContainer)return;const n=new a.DragStartSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e});setTimeout((()=>{this.trigger(this.currentContainer,n),n.canceled()?this.dragging=!1:this.dragging=!0}),0)}[c](e){if(!this.dragging)return;const t=document.elementFromPoint(e.clientX,e.clientY),n=this.currentContainer,r=new a.DragMoveSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:n,originalEvent:e});this.trigger(n,r),r.canceled()||(e.preventDefault(),e.dataTransfer.dropEffect=this.options.type)}[h](e){if(!this.dragging)return;document.removeEventListener("mouseup",this[u],!0);const t=document.elementFromPoint(e.clientX,e.clientY),n=this.currentContainer,r=new a.DragStopSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:n,originalEvent:e});this.trigger(n,r),this.dragging=!1,this.startEvent=null,this[f]()}[g](e){e.preventDefault()}[l](e){if(e.target&&(e.target.form||e.target.contenteditable))return;const t=(0,o.closest)(e.target,(e=>e.draggable));t&&(t.draggable=!1,this.nativeDraggableElement=t),document.addEventListener("mouseup",this[u],!0),document.addEventListener("dragstart",this[d],!1),document.addEventListener("dragover",this[c],!1),document.addEventListener("dragend",this[h],!1),document.addEventListener("drop",this[g],!1);const n=(0,o.closest)(e.target,this.options.draggable);n&&(this.startEvent=e,this.mouseDownTimeout=setTimeout((()=>{n.draggable=!0,this.draggableElement=n}),this.delay.drag))}[u](){this[f]()}[f](){clearTimeout(this.mouseDownTimeout),document.removeEventListener("mouseup",this[u],!0),document.removeEventListener("dragstart",this[d],!1),document.removeEventListener("dragover",this[c],!1),document.removeEventListener("dragend",this[h],!1),document.removeEventListener("drop",this[g],!1),this.nativeDraggableElement&&(this.nativeDraggableElement.draggable=!0,this.nativeDraggableElement=null),this.draggableElement&&(this.draggableElement.draggable=!1,this.draggableElement=null)}}t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(42),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(2),s=n(4),i=(r=s)&&r.__esModule?r:{default:r},a=n(3);const l=Symbol("onTouchStart"),u=Symbol("onTouchEnd"),d=Symbol("onTouchMove"),c=Symbol("startDrag"),h=Symbol("onDistanceChange");let g=!1;window.addEventListener("touchmove",(e=>{g&&e.preventDefault()}),{passive:!1});class f extends i.default{constructor(e=[],t={}){super(e,t),this.currentScrollableParent=null,this.tapTimeout=null,this.touchMoved=!1,this.pageX=null,this.pageY=null,this[l]=this[l].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this),this[c]=this[c].bind(this),this[h]=this[h].bind(this)}attach(){document.addEventListener("touchstart",this[l])}detach(){document.removeEventListener("touchstart",this[l])}[l](e){const t=(0,o.closest)(e.target,this.containers);if(!t)return;const{distance:n=0}=this.options,{delay:r}=this,{pageX:s,pageY:i}=(0,o.touchCoords)(e);Object.assign(this,{pageX:s,pageY:i}),this.onTouchStartAt=Date.now(),this.startEvent=e,this.currentContainer=t,document.addEventListener("touchend",this[u]),document.addEventListener("touchcancel",this[u]),document.addEventListener("touchmove",this[h]),t.addEventListener("contextmenu",p),n&&(g=!0),this.tapTimeout=window.setTimeout((()=>{this[h]({touches:[{pageX:this.pageX,pageY:this.pageY}]})}),r.touch)}[c](){const e=this.startEvent,t=this.currentContainer,n=(0,o.touchCoords)(e),r=new a.DragStartSensorEvent({clientX:n.pageX,clientY:n.pageY,target:e.target,container:t,originalEvent:e});this.trigger(this.currentContainer,r),this.dragging=!r.canceled(),this.dragging&&document.addEventListener("touchmove",this[d]),g=this.dragging}[h](e){const{distance:t}=this.options,{startEvent:n,delay:r}=this,s=(0,o.touchCoords)(n),i=(0,o.touchCoords)(e),a=Date.now()-this.onTouchStartAt,l=(0,o.distance)(s.pageX,s.pageY,i.pageX,i.pageY);Object.assign(this,i),clearTimeout(this.tapTimeout),a<r.touch?document.removeEventListener("touchmove",this[h]):l>=t&&(document.removeEventListener("touchmove",this[h]),this[c]())}[d](e){if(!this.dragging)return;const{pageX:t,pageY:n}=(0,o.touchCoords)(e),r=document.elementFromPoint(t-window.scrollX,n-window.scrollY),s=new a.DragMoveSensorEvent({clientX:t,clientY:n,target:r,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,s)}[u](e){if(clearTimeout(this.tapTimeout),g=!1,document.removeEventListener("touchend",this[u]),document.removeEventListener("touchcancel",this[u]),document.removeEventListener("touchmove",this[h]),this.currentContainer&&this.currentContainer.removeEventListener("contextmenu",p),!this.dragging)return;document.removeEventListener("touchmove",this[d]);const{pageX:t,pageY:n}=(0,o.touchCoords)(e),r=document.elementFromPoint(t-window.scrollX,n-window.scrollY);e.preventDefault();const s=new a.DragStopSensorEvent({clientX:t,clientY:n,target:r,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,s),this.currentContainer=null,this.dragging=!1,this.startEvent=null}}function p(e){e.preventDefault(),e.stopPropagation()}t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(44),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DragPressureSensorEvent=t.DragStopSensorEvent=t.DragMoveSensorEvent=t.DragStartSensorEvent=t.SensorEvent=void 0;var r,o=n(1),s=(r=o)&&r.__esModule?r:{default:r};class i extends s.default{get originalEvent(){return this.data.originalEvent}get clientX(){return this.data.clientX}get clientY(){return this.data.clientY}get target(){return this.data.target}get container(){return this.data.container}get pressure(){return this.data.pressure}}t.SensorEvent=i;class a extends i{}t.DragStartSensorEvent=a,a.type="drag:start";class l extends i{}t.DragMoveSensorEvent=l,l.type="drag:move";class u extends i{}t.DragStopSensorEvent=u,u.type="drag:stop";class d extends i{}t.DragPressureSensorEvent=d,d.type="drag:pressure"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(2),s=n(4),i=(r=s)&&r.__esModule?r:{default:r},a=n(3);const l=Symbol("onContextMenuWhileDragging"),u=Symbol("onMouseDown"),d=Symbol("onMouseMove"),c=Symbol("onMouseUp"),h=Symbol("startDrag"),g=Symbol("onDistanceChange");class f extends i.default{constructor(e=[],t={}){super(e,t),this.mouseDownTimeout=null,this.pageX=null,this.pageY=null,this[l]=this[l].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this),this[c]=this[c].bind(this),this[h]=this[h].bind(this),this[g]=this[g].bind(this)}attach(){document.addEventListener("mousedown",this[u],!0)}detach(){document.removeEventListener("mousedown",this[u],!0)}[u](e){if(0!==e.button||e.ctrlKey||e.metaKey)return;const t=(0,o.closest)(e.target,this.containers);if(!t)return;const{delay:n}=this,{pageX:r,pageY:s}=e;Object.assign(this,{pageX:r,pageY:s}),this.onMouseDownAt=Date.now(),this.startEvent=e,this.currentContainer=t,document.addEventListener("mouseup",this[c]),document.addEventListener("dragstart",p),document.addEventListener("mousemove",this[g]),this.mouseDownTimeout=window.setTimeout((()=>{this[g]({pageX:this.pageX,pageY:this.pageY})}),n.mouse)}[h](){const e=this.startEvent,t=this.currentContainer,n=new a.DragStartSensorEvent({clientX:e.clientX,clientY:e.clientY,target:e.target,container:t,originalEvent:e});this.trigger(this.currentContainer,n),this.dragging=!n.canceled(),this.dragging&&(document.addEventListener("contextmenu",this[l],!0),document.addEventListener("mousemove",this[d]))}[g](e){const{pageX:t,pageY:n}=e,{distance:r}=this.options,{startEvent:s,delay:i}=this;if(Object.assign(this,{pageX:t,pageY:n}),!this.currentContainer)return;const a=Date.now()-this.onMouseDownAt,l=(0,o.distance)(s.pageX,s.pageY,t,n)||0;clearTimeout(this.mouseDownTimeout),a<i.mouse?document.removeEventListener("mousemove",this[g]):l>=r&&(document.removeEventListener("mousemove",this[g]),this[h]())}[d](e){if(!this.dragging)return;const t=document.elementFromPoint(e.clientX,e.clientY),n=new a.DragMoveSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,n)}[c](e){if(clearTimeout(this.mouseDownTimeout),0!==e.button)return;if(document.removeEventListener("mouseup",this[c]),document.removeEventListener("dragstart",p),document.removeEventListener("mousemove",this[g]),!this.dragging)return;const t=document.elementFromPoint(e.clientX,e.clientY),n=new a.DragStopSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,n),document.removeEventListener("contextmenu",this[l],!0),document.removeEventListener("mousemove",this[d]),this.currentContainer=null,this.dragging=!1,this.startEvent=null}[l](e){e.preventDefault()}}function p(e){e.preventDefault()}t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(47),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};const o={mouse:0,drag:0,touch:100};t.default=class{constructor(e=[],t={}){this.containers=[...e],this.options=r({},t),this.dragging=!1,this.currentContainer=null,this.startEvent=null,this.delay=function(e){const t={};if(void 0===e)return r({},o);if("number"==typeof e){for(const n in o)o.hasOwnProperty(n)&&(t[n]=e);return t}for(const n in o)o.hasOwnProperty(n)&&(void 0===e[n]?t[n]=o[n]:t[n]=e[n]);return t}(t.delay)}attach(){return this}detach(){return this}addContainer(...e){this.containers=[...this.containers,...e]}removeContainer(...e){this.containers=this.containers.filter((t=>!e.includes(t)))}trigger(e,t){const n=document.createEvent("Event");return n.detail=t,n.initEvent(t.type,!0,!0),e.dispatchEvent(n),this.lastEvent=t,t}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e={}){const{touches:t,changedTouches:n}=e;return t&&t[0]||n&&n[0]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(50),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){return Math.sqrt((n-e)**2+(r-t)**2)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(52),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return requestAnimationFrame((()=>{requestAnimationFrame(e)}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(54),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e)return null;const n=t,o=t,s=t,i=t,a=Boolean("string"==typeof t),l=Boolean("function"==typeof t),u=Boolean(t instanceof NodeList||t instanceof Array),d=Boolean(t instanceof HTMLElement);let c=e;do{if(c=c.correspondingUseElement||c.correspondingElement||c,(h=c)?a?r.call(h,n):u?[...s].includes(h):d?i===h:l&&o(h):h)return c;c=c.parentNode}while(c&&c!==document.body&&c!==document);var h;return null};const r=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(56),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=t.scroll=t.onDragStop=t.onDragMove=t.onDragStart=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(0),i=(r=s)&&r.__esModule?r:{default:r},a=n(2);const l=t.onDragStart=Symbol("onDragStart"),u=t.onDragMove=Symbol("onDragMove"),d=t.onDragStop=Symbol("onDragStop"),c=t.scroll=Symbol("scroll"),h=t.defaultOptions={speed:6,sensitivity:50,scrollableElements:[]};class g extends i.default{constructor(e){super(e),this.options=o({},h,this.getOptions()),this.currentMousePosition=null,this.scrollAnimationFrame=null,this.scrollableElement=null,this.findScrollableElementFrame=null,this[l]=this[l].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this),this[c]=this[c].bind(this)}attach(){this.draggable.on("drag:start",this[l]).on("drag:move",this[u]).on("drag:stop",this[d])}detach(){this.draggable.off("drag:start",this[l]).off("drag:move",this[u]).off("drag:stop",this[d])}getOptions(){return this.draggable.options.scrollable||{}}getScrollableElement(e){return this.hasDefinedScrollableElements()?(0,a.closest)(e,this.options.scrollableElements)||document.documentElement:function(e){if(!e)return f();const t=getComputedStyle(e).getPropertyValue("position"),n="absolute"===t,r=(0,a.closest)(e,(e=>(!n||!function(e){return"static"===getComputedStyle(e).getPropertyValue("position")}(e))&&function(e){const t=/(auto|scroll)/,n=getComputedStyle(e,null),r=n.getPropertyValue("overflow")+n.getPropertyValue("overflow-y")+n.getPropertyValue("overflow-x");return t.test(r)}(e)));return"fixed"!==t&&r?r:f()}(e)}hasDefinedScrollableElements(){return Boolean(0!==this.options.scrollableElements.length)}[l](e){this.findScrollableElementFrame=requestAnimationFrame((()=>{this.scrollableElement=this.getScrollableElement(e.source)}))}[u](e){if(this.findScrollableElementFrame=requestAnimationFrame((()=>{this.scrollableElement=this.getScrollableElement(e.sensorEvent.target)})),!this.scrollableElement)return;const t=e.sensorEvent,n={x:0,y:0};"ontouchstart"in window&&(n.y=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,n.x=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),this.currentMousePosition={clientX:t.clientX-n.x,clientY:t.clientY-n.y},this.scrollAnimationFrame=requestAnimationFrame(this[c])}[d](){cancelAnimationFrame(this.scrollAnimationFrame),cancelAnimationFrame(this.findScrollableElementFrame),this.scrollableElement=null,this.scrollAnimationFrame=null,this.findScrollableElementFrame=null,this.currentMousePosition=null}[c](){if(!this.scrollableElement||!this.currentMousePosition)return;cancelAnimationFrame(this.scrollAnimationFrame);const{speed:e,sensitivity:t}=this.options,n=this.scrollableElement.getBoundingClientRect(),r=n.bottom>window.innerHeight,o=n.top<0||r,s=f(),i=this.scrollableElement,a=this.currentMousePosition.clientX,l=this.currentMousePosition.clientY;if(i===document.body||i===document.documentElement||o){const{innerHeight:n,innerWidth:r}=window;l<t?s.scrollTop-=e:n-l<t&&(s.scrollTop+=e),a<t?s.scrollLeft-=e:r-a<t&&(s.scrollLeft+=e)}else{const{offsetHeight:r,offsetWidth:o}=i;n.top+r-l<t?i.scrollTop+=e:l-n.top<t&&(i.scrollTop-=e),n.left+o-a<t?i.scrollLeft+=e:a-n.left<t&&(i.scrollLeft-=e)}this.scrollAnimationFrame=requestAnimationFrame(this[c])}}function f(){return document.scrollingElement||document.documentElement}t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=void 0;var r,o=n(58),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default,t.defaultOptions=o.defaultOptions},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.MirrorDestroyEvent=t.MirrorMoveEvent=t.MirrorAttachedEvent=t.MirrorCreatedEvent=t.MirrorCreateEvent=t.MirrorEvent=void 0;var r,o=n(1),s=(r=o)&&r.__esModule?r:{default:r};class i extends s.default{get source(){return this.data.source}get originalSource(){return this.data.originalSource}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get dragEvent(){return this.data.dragEvent}get originalEvent(){return this.sensorEvent?this.sensorEvent.originalEvent:null}}t.MirrorEvent=i;class a extends i{}t.MirrorCreateEvent=a,a.type="mirror:create";class l extends i{get mirror(){return this.data.mirror}}t.MirrorCreatedEvent=l,l.type="mirror:created";class u extends i{get mirror(){return this.data.mirror}}t.MirrorAttachedEvent=u,u.type="mirror:attached";class d extends i{get mirror(){return this.data.mirror}get passedThreshX(){return this.data.passedThreshX}get passedThreshY(){return this.data.passedThreshY}}t.MirrorMoveEvent=d,d.type="mirror:move",d.cancelable=!0;class c extends i{get mirror(){return this.data.mirror}}t.MirrorDestroyEvent=c,c.type="mirror:destroy",c.cancelable=!0},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(60);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=t.getAppendableContainer=t.onScroll=t.onMirrorMove=t.onMirrorCreated=t.onDragStop=t.onDragMove=t.onDragStart=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(0),i=(r=s)&&r.__esModule?r:{default:r},a=n(61);function l(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}const u=t.onDragStart=Symbol("onDragStart"),d=t.onDragMove=Symbol("onDragMove"),c=t.onDragStop=Symbol("onDragStop"),h=t.onMirrorCreated=Symbol("onMirrorCreated"),g=t.onMirrorMove=Symbol("onMirrorMove"),f=t.onScroll=Symbol("onScroll"),p=t.getAppendableContainer=Symbol("getAppendableContainer"),v=t.defaultOptions={constrainDimensions:!1,xAxis:!0,yAxis:!0,cursorOffsetX:null,cursorOffsetY:null,thresholdX:null,thresholdY:null};class m extends i.default{constructor(e){super(e),this.options=o({},v,this.getOptions()),this.scrollOffset={x:0,y:0},this.initialScrollOffset={x:window.scrollX,y:window.scrollY},this[u]=this[u].bind(this),this[d]=this[d].bind(this),this[c]=this[c].bind(this),this[h]=this[h].bind(this),this[g]=this[g].bind(this),this[f]=this[f].bind(this)}attach(){this.draggable.on("drag:start",this[u]).on("drag:move",this[d]).on("drag:stop",this[c]).on("mirror:created",this[h]).on("mirror:move",this[g])}detach(){this.draggable.off("drag:start",this[u]).off("drag:move",this[d]).off("drag:stop",this[c]).off("mirror:created",this[h]).off("mirror:move",this[g])}getOptions(){return this.draggable.options.mirror||{}}[u](e){if(e.canceled())return;"ontouchstart"in window&&document.addEventListener("scroll",this[f],!0),this.initialScrollOffset={x:window.scrollX,y:window.scrollY};const{source:t,originalSource:n,sourceContainer:r,sensorEvent:o}=e;this.lastMirrorMovedClient={x:o.clientX,y:o.clientY};const s=new a.MirrorCreateEvent({source:t,originalSource:n,sourceContainer:r,sensorEvent:o,dragEvent:e});if(this.draggable.trigger(s),function(e){return/^drag/.test(e.originalEvent.type)}(o)||s.canceled())return;const i=this[p](t)||r;this.mirror=t.cloneNode(!0);const l=new a.MirrorCreatedEvent({source:t,originalSource:n,sourceContainer:r,sensorEvent:o,dragEvent:e,mirror:this.mirror}),u=new a.MirrorAttachedEvent({source:t,originalSource:n,sourceContainer:r,sensorEvent:o,dragEvent:e,mirror:this.mirror});this.draggable.trigger(l),i.appendChild(this.mirror),this.draggable.trigger(u)}[d](e){if(!this.mirror||e.canceled())return;const{source:t,originalSource:n,sourceContainer:r,sensorEvent:o}=e;let s=!0,i=!0;if(this.options.thresholdX||this.options.thresholdY){const{x:e,y:t}=this.lastMirrorMovedClient;if(Math.abs(e-o.clientX)<this.options.thresholdX?s=!1:this.lastMirrorMovedClient.x=o.clientX,Math.abs(t-o.clientY)<this.options.thresholdY?i=!1:this.lastMirrorMovedClient.y=o.clientY,!s&&!i)return}const l=new a.MirrorMoveEvent({source:t,originalSource:n,sourceContainer:r,sensorEvent:o,dragEvent:e,mirror:this.mirror,passedThreshX:s,passedThreshY:i});this.draggable.trigger(l)}[c](e){if("ontouchstart"in window&&document.removeEventListener("scroll",this[f],!0),this.initialScrollOffset={x:0,y:0},this.scrollOffset={x:0,y:0},!this.mirror)return;const{source:t,sourceContainer:n,sensorEvent:r}=e,o=new a.MirrorDestroyEvent({source:t,mirror:this.mirror,sourceContainer:n,sensorEvent:r,dragEvent:e});this.draggable.trigger(o),o.canceled()||this.mirror.parentNode.removeChild(this.mirror)}[f](){this.scrollOffset={x:window.scrollX-this.initialScrollOffset.x,y:window.scrollY-this.initialScrollOffset.y}}[h]({mirror:e,source:t,sensorEvent:n}){const r=this.draggable.getClassNamesFor("mirror");e.style.display="none";const s={mirror:e,source:t,sensorEvent:n,mirrorClasses:r,scrollOffset:this.scrollOffset,options:this.options,passedThreshX:!0,passedThreshY:!0};return Promise.resolve(s).then(b).then(y).then(E).then(_).then(O({initial:!0})).then(S).then((e=>{let{mirrorOffset:t,initialX:n,initialY:r}=e,s=l(e,["mirrorOffset","initialX","initialY"]);return this.mirrorOffset=t,this.initialX=n,this.initialY=r,this.lastMovedX=n,this.lastMovedY=r,o({mirrorOffset:t,initialX:n,initialY:r},s)}))}[g](e){if(e.canceled())return null;const t={mirror:e.mirror,sensorEvent:e.sensorEvent,mirrorOffset:this.mirrorOffset,options:this.options,initialX:this.initialX,initialY:this.initialY,scrollOffset:this.scrollOffset,passedThreshX:e.passedThreshX,passedThreshY:e.passedThreshY,lastMovedX:this.lastMovedX,lastMovedY:this.lastMovedY};return Promise.resolve(t).then(O({raf:!0})).then((e=>{let{lastMovedX:t,lastMovedY:n}=e,r=l(e,["lastMovedX","lastMovedY"]);return this.lastMovedX=t,this.lastMovedY=n,o({lastMovedX:t,lastMovedY:n},r)}))}[p](e){const t=this.options.appendTo;return"string"==typeof t?document.querySelector(t):t instanceof HTMLElement?t:"function"==typeof t?t(e):e.parentNode}}function b(e){let{source:t}=e,n=l(e,["source"]);return C((e=>{const r=t.getBoundingClientRect();e(o({source:t,sourceRect:r},n))}))}function y(e){let{sensorEvent:t,sourceRect:n,options:r}=e,s=l(e,["sensorEvent","sourceRect","options"]);return C((e=>{const i=null===r.cursorOffsetY?t.clientY-n.top:r.cursorOffsetY,a=null===r.cursorOffsetX?t.clientX-n.left:r.cursorOffsetX;e(o({sensorEvent:t,sourceRect:n,mirrorOffset:{top:i,left:a},options:r},s))}))}function E(e){let{mirror:t,source:n,options:r}=e,s=l(e,["mirror","source","options"]);return C((e=>{let i,a;if(r.constrainDimensions){const e=getComputedStyle(n);i=e.getPropertyValue("height"),a=e.getPropertyValue("width")}t.style.display=null,t.style.position="fixed",t.style.pointerEvents="none",t.style.top=0,t.style.left=0,t.style.margin=0,r.constrainDimensions&&(t.style.height=i,t.style.width=a),e(o({mirror:t,source:n,options:r},s))}))}function _(e){let{mirror:t,mirrorClasses:n}=e,r=l(e,["mirror","mirrorClasses"]);return C((e=>{t.classList.add(...n),e(o({mirror:t,mirrorClasses:n},r))}))}function S(e){let{mirror:t}=e,n=l(e,["mirror"]);return C((e=>{t.removeAttribute("id"),delete t.id,e(o({mirror:t},n))}))}function O({withFrame:e=!1,initial:t=!1}={}){return n=>{let{mirror:r,sensorEvent:s,mirrorOffset:i,initialY:a,initialX:u,scrollOffset:d,options:c,passedThreshX:h,passedThreshY:g,lastMovedX:f,lastMovedY:p}=n,v=l(n,["mirror","sensorEvent","mirrorOffset","initialY","initialX","scrollOffset","options","passedThreshX","passedThreshY","lastMovedX","lastMovedY"]);return C((e=>{const n=o({mirror:r,sensorEvent:s,mirrorOffset:i,options:c},v);if(i){const e=h?Math.round((s.clientX-i.left-d.x)/(c.thresholdX||1))*(c.thresholdX||1):Math.round(f),o=g?Math.round((s.clientY-i.top-d.y)/(c.thresholdY||1))*(c.thresholdY||1):Math.round(p);c.xAxis&&c.yAxis||t?r.style.transform=`translate3d(${e}px, ${o}px, 0)`:c.xAxis&&!c.yAxis?r.style.transform=`translate3d(${e}px, ${a}px, 0)`:c.yAxis&&!c.xAxis&&(r.style.transform=`translate3d(${u}px, ${o}px, 0)`),t&&(n.initialX=e,n.initialY=o),n.lastMovedX=e,n.lastMovedY=o}e(n)}),{frame:e})}}function C(e,{raf:t=!1}={}){return new Promise(((n,r)=>{t?requestAnimationFrame((()=>{e(n,r)})):e(n,r)}))}t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=void 0;var r,o=n(62),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default,t.defaultOptions=o.defaultOptions},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(0),i=(r=s)&&r.__esModule?r:{default:r};const a=Symbol("onInitialize"),l=Symbol("onDestroy"),u={};class d extends i.default{constructor(e){super(e),this.options=o({},u,this.getOptions()),this[a]=this[a].bind(this),this[l]=this[l].bind(this)}attach(){this.draggable.on("draggable:initialize",this[a]).on("draggable:destroy",this[l])}detach(){this.draggable.off("draggable:initialize",this[a]).off("draggable:destroy",this[l]),this[l]()}getOptions(){return this.draggable.options.focusable||{}}getElements(){return[...this.draggable.containers,...this.draggable.getDraggableElements()]}[a](){requestAnimationFrame((()=>{this.getElements().forEach((e=>function(e){Boolean(!e.getAttribute("tabindex")&&-1===e.tabIndex)&&(c.push(e),e.tabIndex=0)}(e)))}))}[l](){requestAnimationFrame((()=>{this.getElements().forEach((e=>function(e){const t=c.indexOf(e);-1!==t&&(e.tabIndex=-1,c.splice(t,1))}(e)))}))}}t.default=d;const c=[]},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(64),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.draggable=e}attach(){throw new Error("Not Implemented")}detach(){throw new Error("Not Implemented")}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(0),i=(r=s)&&r.__esModule?r:{default:r};const a=Symbol("onInitialize"),l=Symbol("onDestroy"),u=Symbol("announceEvent"),d=Symbol("announceMessage"),c=t.defaultOptions={expire:7e3};class h extends i.default{constructor(e){super(e),this.options=o({},c,this.getOptions()),this.originalTriggerMethod=this.draggable.trigger,this[a]=this[a].bind(this),this[l]=this[l].bind(this)}attach(){this.draggable.on("draggable:initialize",this[a])}detach(){this.draggable.off("draggable:destroy",this[l])}getOptions(){return this.draggable.options.announcements||{}}[u](e){const t=this.options[e.type];t&&"string"==typeof t&&this[d](t),t&&"function"==typeof t&&this[d](t(e))}[d](e){!function(e,{expire:t}){const n=document.createElement("div");n.textContent=e,g.appendChild(n),setTimeout((()=>{g.removeChild(n)}),t)}(e,{expire:this.options.expire})}[a](){this.draggable.trigger=e=>{try{this[u](e)}finally{this.originalTriggerMethod.call(this.draggable,e)}}}[l](){this.draggable.trigger=this.originalTriggerMethod}}t.default=h;const g=function(){const e=document.createElement("div");return e.setAttribute("id","draggable-live-region"),e.setAttribute("aria-relevant","additions"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","assertive"),e.setAttribute("role","log"),e.style.position="fixed",e.style.width="1px",e.style.height="1px",e.style.top="-1px",e.style.overflow="hidden",e}();document.addEventListener("DOMContentLoaded",(()=>{document.body.appendChild(g)}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=void 0;var r,o=n(67),s=(r=o)&&r.__esModule?r:{default:r};t.default=s.default,t.defaultOptions=o.defaultOptions},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DraggableDestroyEvent=t.DraggableInitializedEvent=t.DraggableEvent=void 0;var r,o=n(1),s=(r=o)&&r.__esModule?r:{default:r};class i extends s.default{get draggable(){return this.data.draggable}}t.DraggableEvent=i,i.type="draggable";class a extends i{}t.DraggableInitializedEvent=a,a.type="draggable:initialize";class l extends i{}t.DraggableDestroyEvent=l,l.type="draggable:destroy"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};const o=Symbol("canceled");class s{constructor(e){this[o]=!1,this.data=e}get type(){return this.constructor.type}get cancelable(){return this.constructor.cancelable}cancel(){this[o]=!0}canceled(){return Boolean(this[o])}clone(e){return new this.constructor(r({},this.data,e))}}t.default=s,s.type="event",s.cancelable=!1},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DragStoppedEvent=t.DragStopEvent=t.DragPressureEvent=t.DragOutContainerEvent=t.DragOverContainerEvent=t.DragOutEvent=t.DragOverEvent=t.DragMoveEvent=t.DragStartEvent=t.DragEvent=void 0;var r,o=n(1),s=(r=o)&&r.__esModule?r:{default:r};class i extends s.default{get source(){return this.data.source}get originalSource(){return this.data.originalSource}get mirror(){return this.data.mirror}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get originalEvent(){return this.sensorEvent?this.sensorEvent.originalEvent:null}}t.DragEvent=i,i.type="drag";class a extends i{}t.DragStartEvent=a,a.type="drag:start",a.cancelable=!0;class l extends i{}t.DragMoveEvent=l,l.type="drag:move";class u extends i{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}t.DragOverEvent=u,u.type="drag:over",u.cancelable=!0;class d extends i{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}t.DragOutEvent=d,d.type="drag:out";class c extends i{get overContainer(){return this.data.overContainer}}t.DragOverContainerEvent=c,c.type="drag:over:container";class h extends i{get overContainer(){return this.data.overContainer}}t.DragOutContainerEvent=h,h.type="drag:out:container";class g extends i{get pressure(){return this.data.pressure}}t.DragPressureEvent=g,g.type="drag:pressure";class f extends i{}t.DragStopEvent=f,f.type="drag:stop";class p extends i{}t.DragStoppedEvent=p,p.type="drag:stopped"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Plugins=t.Sensors=t.Sortable=t.Swappable=t.Droppable=t.Draggable=t.BasePlugin=t.BaseEvent=void 0;var r=n(5);Object.defineProperty(t,"Draggable",{enumerable:!0,get:function(){return h(r).default}});var o=n(36);Object.defineProperty(t,"Droppable",{enumerable:!0,get:function(){return h(o).default}});var s=n(33);Object.defineProperty(t,"Swappable",{enumerable:!0,get:function(){return h(s).default}});var i=n(30);Object.defineProperty(t,"Sortable",{enumerable:!0,get:function(){return h(i).default}});var a=h(n(1)),l=h(n(0)),u=c(n(6)),d=c(n(27));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}t.BaseEvent=a.default,t.BasePlugin=l.default,t.Sensors=u,t.Plugins=d}])},e.exports=n()}(t={path:e,exports:{},require:function(e,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&t.path)}},t.exports),t.exports);const r=()=>{},o=e=>"number"==typeof e&&Number.isFinite(e),s=e=>"string"==typeof e,i=Array.isArray,a=e=>"object"==typeof e&&!!e&&!i(e),l=e=>"function"==typeof e,u=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),d=e=>{for(let t in e)if(u(e,t))return!1;return!0},c=(e,t)=>e>t,h=(e,t)=>((e,t,n)=>{let r,o;if(i(e))for(let s=0,i=e.length;s<i;s++){const i=t(e[s]);(void 0===o||n(i,o))&&(r=e[s],o=i)}return r})(e,t,c),g=e=>{let t=null;if("/"===e.charAt(0)&&("/"===e.charAt(1)?e="https://"+e:t=e),null===t)try{t=new URL(e).pathname}catch(n){t=e}return t},f=e=>"__duo-toolbox__-"+e,p=f("global_variables"),v=(e,t)=>(a(window[p])||(window[p]={}),u(window[p],e)?window[p][e]:t),m=(e,t)=>{a(window[p])||(window[p]={}),window[p][e]=t},b=(e,t,n)=>{const r=t(v(e,n));return m(e,r),r},y=e=>b(`__counter::${e}__`,(e=>e+1),0),E=f("original_function"),_=f("override_version"),S=(e,t,n,o=1)=>((e,t,n,r,o=1)=>{u(window,e)&&t(window[e])?n(window[e]):b("pending_global_listeners",((s={})=>{var i;if(!s[e]){s[e]={};let n=window[e];Object.defineProperty(window,e,{get:()=>n,set:r=>{t(r)?(Object.defineProperty(window,e,{value:r,configurable:!0,enumerable:!0,writable:!0}),Object.values(s[e]).forEach((e=>e.callback(r)))):n=r},configurable:!0})}return o>(Number(null===(i=s[e][r])||void 0===i?void 0:i.version)||0)&&(s[e][r]={callback:n,version:o}),s}))})(e,l,(e=>((e,t,n,o=1)=>{var s;if(a(e)&&o>(Number(null===(s=e[t])||void 0===s?void 0:s[_])||0)){var i;const s=(null===(i=e[t])||void 0===i?void 0:i[E])||e[t]||r;e[t]=n(s),e[t][E]=s,e[t][_]=o}})(null==e?void 0:e.prototype,t,n,o)),"instance_method:"+t,o),O=f("logging_iframe"),C=e=>{e.preventDefault(),e.stopPropagation()},M=["characterIntro","characterMatch","characterSelect","completeReverseTranslation","definition","dialogue","form","freeResponse","gapFill","judge","listen","listenComprehension","listenTap","name","readComprehension","select","selectPronunciation","selectTranscription","speak","tapCloze","tapClozeTable","tapComplete","tapCompleteTable","tapDescribe","translate","typeCloze","typeClozeTable","typeCompleteTable"],w=e=>{var t,n;return(null===(t=e.metadata)||void 0===t?void 0:t.source_language)||e.sourceLanguage||(null===(n=e.metadata)||void 0===n?void 0:n.learning_language)},D=e=>{var t;return(null===(t=e.metadata)||void 0===t?void 0:t.target_language)||e.targetLanguage||w(e)},x="none",P="challenge",j=/duolingo\.com\/stories\/(?<story_key>[^/]+)/,L=/forum\.duolingo\.com\/comment\/(?<comment_id>[\d]+)/,T=/duolingo\.com\/dictionary\/(?<language>.+)\/(?<lexeme>.+)\/(?<lexeme_id>[\w]+)\//,F=()=>(()=>{let e=document.getElementById(O);return e&&e.isConnected||(e=document.createElement("iframe"),e.id=O,e.style.display="none",document.body.appendChild(e)),e})().contentWindow.console,A=(...e)=>F().error(...e),X=Number.MAX_SAFE_INTEGER,Y=Math.round(X/4),N=Math.round(2*Y),k="tts_sentence",z="tts_word",I="normal",q="howler",$="rate",B="volume",H=f("forced_setting"),R=e=>a(e)&&!!e[H],K=e=>e.value,V=e=>({[H]:!0,value:e}),W=(e,t)=>$===e&&o(t)||B===e&&t>=0&&t<=1,U=(e,t)=>((e,t,n,r=1)=>{if(!a(e))return;const o=f(t+"_override_version");r>(Number(e[o])||0)&&Object.defineProperty(e,t,n(Object.getOwnPropertyDescriptor(e,t)))})(HTMLMediaElement,t,(t=>({...t,set:function(n){const r=Q[e];o(n)?(this[r.originalValueKey]=n,u(this,r.valueKey)&&(n=this[r.isRelativeKey]?Z(e,n*this[r.valueKey]):this[r.valueKey])):R(n)&&(n=K(n)),o(n)&&(this[r.listenerValueKey]=n),t.set.call(this,n)}}))),G=(e,t)=>S("Howl",t,(n=>function(){const r=this,o=arguments,s=Q[e];let i=!1;const a=r._queue.length;(1===o.length||2===o.length&&void 0===o[1])&&-1===r._getSoundIds().indexOf(o[0])&&(R(o[0])?(i=!0,o[0]=K(o[0])):W(e,o[0])&&(r[s.originalValueKey]=o[0],u(r,s.valueKey)&&(i=!0,r[s.isRelativeKey]?o[0]=Z(e,o[0]*r[s.valueKey]):o[0]=r[s.valueKey])),i&&(r[s.listenerValueKey]=o[0]));const l=n.apply(r,arguments);return i&&a<r._queue.length&&(r._queue[r._queue.length-1].action=function(){o[0]=V(o[0]),r[t](...o)}),l})),J=(e,t,n,r)=>({...r,functions:{audio:{applyOverride:()=>U(e,n),getter:e=>e[t],setter:(e,n)=>e[t]=n,hasQueuedUpdate:()=>!1},[q]:{applyOverride:()=>G(e,n),getter:e=>e[n](),setter:(e,t)=>e[n](t),hasQueuedUpdate:e=>e._queue.find((e=>e.event===n))}},priorityKey:f(e+"_priority"),isRelativeKey:f(e+"_is_relative"),valueKey:f(`forced_${e}_value`),originalValueKey:f(`original_${e}_value`),listenerValueKey:f(e+"_value")}),Q={[$]:J($,"playbackRate","rate",{minValue:.5,maxValue:4,defaultValue:1}),[B]:J(B,"volume","volume",{minValue:0,maxValue:1,defaultValue:1})},Z=(e,t)=>Q[e]?Math.max(Q[e].minValue,Math.min(t,Q[e].maxValue)):t,ee="event_listeners",te=()=>`__listener::${y("last_event_listener_id")}__`,ne=e=>{var t;return(null===(t=v(ee,{}))||void 0===t?void 0:t[e])||{}},re=(e,t)=>{b(ee,(n=>Object.assign(n||{},{[e]:t})))},oe=!d((e=>ne(e))),se=(e,t)=>{const n=ne(e);return d(n)?null:t(Object.values(n))},ie=(e,t,n=te())=>{const r=ne(e);return r[n]=t,re(e,r),()=>le(e,n)},ae=(e,t,n,r,o=ie,s=te())=>{const a=`__${t}::${e}__`;var l;l=a,ne(t)[l]||o(t,((...t)=>{const n=r(...t);i(n)&&ue(e,...n)}),a);const u=ie(e,n,s);return()=>{u(),oe(e)||le(t,a)}},le=(e,t)=>{const n=ne(e);delete n[t],re(e,n)},ue=(e,...t)=>se(e,(e=>e.flatMap((e=>{try{return[e(...t)]}catch(e){return[]}})))),de="practice_session_loaded",ce="story_loaded",he="forum_discussion_loaded",ge="dictionary_lexeme_loaded",fe="sound_playback_requested",pe="sound_playback_confirmed",ve="sound_playback_cancelled",me="ui_loaded",be={[ge]:/\/api\/1\/dictionary_page/g,[he]:/\/comments\/([\d]+)/g,[de]:/\/[\d]{4}-[\d]{2}-[\d]{2}\/sessions/g,[ce]:/\/api2\/stories/g,user_data_loaded:/\/[\d]{4}-[\d]{2}-[\d]{2}\/users\/[\d]+/g},ye=(e,t,n=te())=>(S("XMLHttpRequest","open",(e=>function(t,n,r,o,s){let i;for(const[e,t]of Object.entries(be))if(n.match(t)){i=e;break}return i&&se(i,(e=>{this.addEventListener("load",(()=>{try{const t=a(this.response)?this.response:JSON.parse(this.responseText);e.forEach((e=>e(t)))}catch(e){A(e,`Could not handle the XHR result (event: ${i}): `)}}))})),e.call(this,t,n,r,o,s)})),ie(e,t,n)),Ee=(e,t)=>({url:e,type:k,speed:I,language:t}),_e=(e,t)=>({url:e,type:z,speed:I,language:t}),Se=Object.fromEntries(["/sounds/7abe057dc8446ad325229edd6d8fd250.mp3","/sounds/2aae0ea735c8e9ed884107d6f0a09e35.mp3","/sounds/421d48c53ad6d52618dba715722278e0.mp3","/sounds/37d8f0b39dcfe63872192c89653a93f6.mp3","/sounds/0a27c1ee63dd220647e8410a0029aed2.mp3","/sounds/a28ff0a501ef5f33ca78c0afc45ee53e.mp3","/sounds/2e4669d8cf839272f0731f8afa488caf.mp3","/sounds/f0b6ab4396d5891241ef4ca73b4de13a.mp3"].map((e=>{return[e,(t=e,{url:t,type:"effect",speed:I,language:null})];var t}))),Oe=/\/duolingo-data\/tts\/(?<language>[a-z-_]+)\/token\//i,Ce="sound_type_map",Me=()=>v(Ce,Se),we=e=>{const t=Me()||{};for(const n of e)t[g(n.url)]=n;m(Ce,t)},De="sound_detection_unregistration_callbacks",xe=(e,t,n)=>{var r;return{url:e.url,type:t,speed:(null===(r=e.speed)||void 0===r?void 0:r.value)||I,language:n}},Pe=()=>{var e,t,n,r;v(De)||m(De,[(r=e=>(e=>{const t=e.learningLanguage;i(e.elements)&&we(e.elements.map((e=>{var t;return(null==e||null===(t=e.line)||void 0===t?void 0:t.content)||(null==e?void 0:e.learningLanguageTitleContent)})).flatMap((e=>[null==e?void 0:e.audio,null==e?void 0:e.audioPrefix,null==e?void 0:e.audioSuffix])).map((e=>null==e?void 0:e.url)).filter(s).map((e=>Ee(e,t))))})(e),ye(ce,r)),(n=e=>{var t;s((t=e).tts_url)&&we([Ee(t.tts_url,t.sentence_language)])},ye(he,n)),(t=e=>(e=>{const t=[],n=e.learning_language;s(e.tts)&&t.push(_e(e.tts,n)),i(e.alternative_forms)&&t.push(e.alternative_forms.map((e=>null==e?void 0:e.tts)).filter(s).map((e=>Ee(e,n)))),we(t.flat())})(e),ye(ge,t)),(e=e=>(e=>{const t=[];for(const l of e){var n;const e=w(l),u=D(l);if(s(l.tts)&&t.push(Ee(l.tts,e)),s(l.slowTts)&&t.push({url:l.slowTts,type:k,speed:"slow",language:e}),s(l.solutionTts)&&t.push(Ee(l.solutionTts,u)),i(l.choices)&&t.push(l.choices.map((e=>null==e?void 0:e.tts)).filter(s).map((e=>_e(e,u)))),i(l.tokens)&&t.push(l.tokens.map((e=>null==e?void 0:e.tts)).filter(s).map((t=>_e(t,e)))),i(l.questionTokens)&&t.push(l.questionTokens.map((e=>null==e?void 0:e.tts)).filter(s).map((e=>_e(e,u)))),i(null===(n=l.metadata)||void 0===n?void 0:n.speakers))for(const e of l.metadata.speakers){var r,o;a(null===(r=e.tts)||void 0===r?void 0:r.tokens)&&t.push(Object.values(e.tts.tokens).filter((e=>s(e.url))).map((e=>xe(e,z,u)))),i(null===(o=e.tts)||void 0===o?void 0:o.sentence)&&t.push(e.tts.sentence.filter((e=>s(e.url))).map((e=>xe(e,k,u))))}i(l.pairs)&&t.push(l.pairs.map((e=>null==e?void 0:e.tts)).filter(s).map((e=>_e(e,u))))}we(t.flat())})(e.challenges),ae("practice_challenges_loaded",de,e,(e=>{let t;var n;a(e)&&(t=[{challenges:[e.challenges,e.adaptiveChallenges,null===(n=e.adaptiveInterleavedChallenges)||void 0===n?void 0:n.challenges].filter(i).flat(),sessionMetaData:e.metadata||{}}]);return t}),ye))])},je=(e,t,n)=>{const r=(e=>{const t=Me()[e];if(a(t))return t;const n=e.match(Oe);return n?_e(e,n.language):null})(g(t));return{url:t,type:(null==r?void 0:r.type)||"unknown",speed:(null==r?void 0:r.speed)||I,language:null==r?void 0:r.language,playbackStrategy:n,sound:e}},Le=(e,t)=>{S("Howl","play",(e=>function(t){var n;m("is_howler_used",!0);const r=String(this._src||(null===(n=this._parent)||void 0===n?void 0:n._src)||"").trim();return""!==r?((e,t,n,r)=>{const o=je(e,t,n);let s=!1;try{var i;s=null===(i=ue(fe,o))||void 0===i?void 0:i.some((e=>!1===e)),ue(s?ve:pe,o)}catch(e){A(e,`Could not handle playback for sound "${t}" (using "${n}"): `)}return s?null:r()})(this,r,q,(()=>e.call(this,t))):e.call(this,t)})),Pe();const n=ie(e,t);return()=>{n(),(()=>{const e=v(De);!i(e)||oe("sound_initialized")||oe(fe)||oe(ve)||oe(pe)||(e.forEach((e=>e())),m(De,null))})()}},Te="is_ui_loaded",Fe=f("action_request"),Ae=f("action_result"),Xe=f("background_event_notification"),Ye=(e,t)=>{b("mutexes",(n=>(a(n[e])||(n[e]={currentHolder:null,pendingHolders:[]}),n[e]=t(n[e]),n)),{})},Ne=async(e,{priority:t=N,timeoutDelay:n=null,onSupersessionRequest:o=r}={})=>new Promise(((r,s)=>{const i=y("last_mutex_holder_id"),a=n>0?setTimeout((()=>{Ye(e,(e=>({...e,pendingHolders:e.pendingHolders.filter((e=>i!==e.uniqueId))}))),s()}),n):null,l=()=>{a&&clearTimeout(a),r((()=>((e,t)=>{Ye(e,(e=>{var n;if((null===(n=e.currentHolder)||void 0===n?void 0:n.uniqueId)!==t)return;const r=h(e.pendingHolders,(e=>e.priority));return r?(setTimeout((()=>r.onAcquired())),e.currentHolder=r,e.pendingHolders=e.pendingHolders.filter((e=>e.uniqueId!==r.uniqueId))):e.currentHolder=null,e}))})(e,i)))},u={uniqueId:i,priority:t,onAcquired:l,onSupersessionRequest:o};Ye(e,(e=>(e.currentHolder?(e.pendingHolders.push(u),u.priority>e.currentHolder.priority&&setTimeout((()=>e.currentHolder.onSupersessionRequest()))):(e.currentHolder=u,setTimeout((()=>l()))),e)))})),ke="always",ze="never",Ie={enableDnd:!0,enableKeyboardShortcuts:!0,disableWordButtonsTts:!1,disableWordAnimation:ze};let qe=Ie,$e=null,Be=null,He=null,Re=null,Ke=[],Ve=null,We=!1,Ue=!1,Ge=!1,Je=!1,Qe=!1,Ze=null,et=null,tt=null;const nt=e=>e.classList.contains(Lt),rt=()=>$e?Array.from($e.querySelectorAll(Dt)):[],ot=e=>e.disabled||"true"===e.ariaDisabled,st=e=>(e.childNodes[0]||e).textContent.trim(),it=()=>rt().map((e=>nt(e)?"":st(e))).filter((e=>e.length>0)),at=e=>{if(!Be)return;const t=[],n=rt().slice(e);ze!==qe.disableWordAnimation&&gt(!1);const r=()=>{const e=n.shift();if(e){if(e.click(),!nt(e)){const n=st(e);""!==n&&t.push(n)}setTimeout((()=>{if(e.isConnected){const t=e.closest(wt.join(","))||e;t.parentNode.removeChild(t)}r()}),1)}else Qe=!0,setTimeout(s,1)};let o=!1;const s=()=>{try{const n=Be?Array.from(Be.querySelectorAll(Dt)):[];if(o||!Re||null===(e=He)||void 0===e||!e.querySelector(Pt)){o=!0;const e=t.shift(),r=n.find((t=>!ot(t)&&st(t)===e));r&&r.click()}t.length>0?setTimeout(s,1):setTimeout(i,200)}catch(e){throw i(),e}var e},i=()=>{Qe=!1,Je=!1,dt(),ke!==qe.disableWordAnimation&&gt(!0)};r()},lt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Be)return;const n=rt(),r=n.slice(e).map((e=>(e.click(),nt(e)?"":st(e)))).filter((e=>e.length>0));if(t){const e=t.dragEvent.source,n=document.createElement("div");e.parentNode.removeChild(e),n.appendChild(e)}Qe=!0;try{Be&&Array.from(Be.querySelectorAll(Dt)).filter((e=>!ot(e))).map((e=>{const t=r.indexOf(st(e));return t>=0&&(r[t]=null),[t,e]})).filter((e=>e[0]>=0)).sort(((e,t)=>e[0]-t[0])).forEach((e=>e[1].click()))}finally{Qe=!1,Je=!1,dt()}},ut=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Je=!0,et=null,tt=null,Re?at(e):lt(e,t)},dt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(e||rt()).forEach(((e,t)=>{e.classList.toggle(jt,t===et)}))},ct=e=>{const t=rt();0===t.length||_t===e&&0===et||St===e&&t.length-1===et?et=null:null===et?et=St===e?0:t.length-1:et+=_t===e?-1:1,dt(t)},ht=e=>{if(null!==et){const t=rt();if(t[et]){const n=t[et].parentNode;null===tt&&(tt=et),_t===e&&et>0?(Ge=!0,n.parentNode.insertBefore(n,t[et-1].parentNode),et-=1):St===e&&et<t.length-1&&(Ge=!0,n.parentNode.insertBefore(t[et+1].parentNode,n),et+=1)}}},gt=e=>document.body.classList.toggle("_duo-wb-dnd_disabled_word_animation",!e),ft=e=>{qe=e,ze===qe.disableWordAnimation?gt(!0):ke===qe.disableWordAnimation?gt(!1):"dnd"===qe.disableWordAnimation&&gt(!Je)};(e=>{if(v(Te))setTimeout(e);else{if(!v("is_ui_loading_detected")){var t;let e;e=i(null===(t=window.duo)||void 0===t?void 0:t.stylesheets)?new Promise((e=>{const t=()=>{Array.from(document.styleSheets).some((e=>window.duo.stylesheets.some((t=>String(e.href||"").indexOf(t)>=0))))&&(clearInterval(n),e())},n=setInterval(t,1e3);t()})):Promise.resolve();const n=()=>e.then((()=>{m(Te,!0),ue(me)}));"complete"===document.readyState||"interactive"===document.readyState?setTimeout(n,1):document.addEventListener("DOMContentLoaded",n)}ie(me,e)}})((()=>{(async(e,t)=>new Promise(((n,r)=>{const o=t=>{t.source===window&&a(t.data)&&Ae===t.data.type&&e===t.data.action&&("success"===t.data.result?n(t.data.value):r(t.data.error),t.stopPropagation(),window.removeEventListener("message",o))};window.addEventListener("message",o),window.postMessage({type:Fe,action:e,value:t},"*")})))("get_options").catch((()=>Ie)).then(ft)})),((e,t)=>{var n;const r=i(t)?e=>t.indexOf(e)>=0:()=>!0,o=t=>{const n=a(t.data)?t.data:t;return n&&Xe===n.type&&r(n.event)&&e(n.event,n.value)};"undefined"!=typeof chrome&&null!==(n=chrome.runtime)&&void 0!==n&&n.onMessage?chrome.runtime.onMessage.addListener(o):window.addEventListener("message",o)})(((e,t)=>"options_changed"===e&&ft(t)));const pt=new MutationObserver((()=>{var e;null!==(e=He)&&void 0!==e&&e.querySelector(Pt)&&(Re=!0,pt.disconnect())})),vt=new MutationObserver((()=>{if(null!==et&&!Ge&&!Ue&&!Je){const e=rt();let t=e.findIndex((e=>e.classList.contains(jt)));-1===t&&e.length>0&&(t=Math.max(0,Math.min(e.length-1,et))),t>=0?(et=t,dt(e)):et=null}})),mt=e=>{var t,n;null===(t=$e)||void 0===t||null===(n=t.querySelectorAll("."+Lt))||void 0===n||n.forEach((e=>e.classList.remove(Lt))),null==e||e.classList.add(Lt)};setInterval((()=>{const e=document.querySelector(Ot);if(e!==He){if(He=e,!He)return;null===Re&&pt.observe(He,{childList:!0})}const t=document.querySelector(Mt);t!==Be&&(Be=t,Be&&Be.addEventListener("click",(e=>{(e.target.matches("button")||e.target.closest("button"))&&(Ze=Date.now())})));const r=document.querySelector(Ct);if(r!==$e){if($e=r,et=null,tt=null,!$e)return;vt.observe($e,{childList:!0,subtree:!0});const e=new n.Sortable($e,{draggable:xt,distance:5});e.removePlugin(n.Draggable.Plugins.Mirror),e.on("drag:start",(e=>{qe.enableDnd&&!Ge&&yt()?(mt(e.originalSource.querySelector(Dt)),Ue=!0,Ke=it()):e.cancel()})),e.on("sortable:stop",(e=>{Ue=!1,null===Re&&(Re=!1,pt.disconnect());const t=it();var n;const r=Array.from((null===(n=$e)||void 0===n?void 0:n.getElementsByClassName(Lt))||[]).map((e=>st(e)));let o=Math.min(...[Ke.findIndex(((e,n)=>e!==t[n])),...r.map((e=>t.indexOf(e))).filter((e=>e>=0&&t[e]===t[e+1])),...r.map((e=>Ke.indexOf(e))).filter((e=>e>=0&&Ke[e]===Ke[e+1]&&t[e]!==t[e+1]))].filter((e=>e>=0)));if(-1===o||1/0===o){if(!(t.length>Ke.length))return void mt(null);o=Ke.length}ut(o,e)}))}}),50),Le(fe,(e=>!(z===e.type&&(Qe||qe.disableWordButtonsTts&&Math.abs(Date.now()-Ze)<=Et))));const bt=()=>{We||Ve||(We=!0,Ne("hotkeys",{priority:1,onSupersessionRequest:()=>{Ve&&!Ge&&(Ve(),Ve=null,bt())}}).then((e=>{We=!1,Ve=e})).catch(r))};bt();const yt=()=>{const e=(()=>{const e=document.location.href;let t=e.match(L);if(i(t))return{type:"forum_discussion",commentId:Number(t.comment_id)||null};var n;if(t=e.match(j),i(t)||document.querySelector('[data-test="stories-element"]'))return{type:"story",storyKey:null===(n=t)||void 0===n?void 0:n.story_key};if(t=e.match(T),i(t))return{type:"dictionary",languageName:t.language,lexeme:t.lexeme,lexemeId:t.lexeme_id};const r=document.querySelector('[data-test*="challenge"]');if(r){let e=null;for(const t of(null===(o=r.getAttribute("data-test"))||void 0===o?void 0:o.split(/\s+/))||[]){var o,s;const n=null===(s=t.match(/challenge-(?<type>[a-z]+)/i))||void 0===s?void 0:s.groups.type.trim();if(M.indexOf(n)>=0){e=n;break}}let t=x;const n=document.querySelector("._2Fc1K ._1tuLI");return n&&(t=n.classList.contains("_3e9O1")?"correct":"incorrect"),{type:P,challengeType:e,result:t,isCompleted:x!==t}}return{type:"unknown"}})();return P===e.type&&!e.isCompleted};document.addEventListener("keydown",(e=>{var t;Ue?"Backspace"===e.key&&(e.preventDefault(),e.stopImmediatePropagation()):!$e||Je||null===Ve||!qe.enableKeyboardShortcuts||!yt()||document.activeElement&&["input","select","textarea"].indexOf(document.activeElement.tagName.toLowerCase())>=0||("ArrowLeft"===e.key?(C(e),e.ctrlKey?ht(_t):ct(_t)):"ArrowRight"===e.key?(C(e),e.ctrlKey?ht(St):ct(St)):e.ctrlKey||"Delete"===e.key&&(C(e),null!==et&&(null===(t=rt()[et])||void 0===t||t.click()))),$e&&(Ze=Date.now())}),!0),document.addEventListener("keyup",(e=>{"Control"===e.key&&(Ge&&et!==tt&&ut(Math.max(0,Math.min(et,tt))),Ge=!1)}));const Et=100,_t="left",St="right",Ot="#overlays",Ct=".PcKtj",Mt='[data-test="word-bank"]',wt=["._1yW4j",".JSl9i","._2LmyT"],Dt=wt.map((e=>e+" button")).join(","),xt=wt.map((e=>`${Ct} ${e}`)).join(","),Pt="button._1O290",jt="pmjld",Lt="_dnd_-dragged-word-button"}();
